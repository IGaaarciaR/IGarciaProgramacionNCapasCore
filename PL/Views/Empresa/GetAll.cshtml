@model ML.Empresa
@{
    ViewBag.Title = "GetAll";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Empresa</h2>


<div class="row">
    <div class="col-md-12 col-sm-3">
        @Html.ActionLink(" ", "Form", "Empresa", htmlAttributes: new { @class = "btn btn-success bi bi-plus-square" })
    </div>
</div>


<div class="row" style="padding-top:30px">
    <div class="col-md-12">
        <table class="table table-hover">
            <tr>
                <th class="text-center" scope="col">
                    Editar
                </th>
                <th class="d-none" scope="col">
                    IdEmpresa
                </th>
                <th class="text-center" scope="col">
                    Nombre
                </th>
                <th class="text-center" scope="col">
                    Telefono
                </th>
                <th class="text-center" scope="col">
                    Email
                </th>
                <th class="text-center" scope="col">
                    DireccionWeb
                </th>
                <th class="text-center" scope="col">
                    Logo
                </th>
                <th class="text-center" scope="col">
                    Eliminar
                </th>
            </tr>
            @foreach (ML.Empresa empresa in Model.Empresas)
            {
                <tr>
                    <td class="text-center">
                        <a class="btn btn-warning bi bi-pencil" href="@Url.Action("Form", "Empresa", new { IdEmpresa = empresa.IdEmpresa})"></a>
                    </td>
                    <td class="d-none">
                        @empresa.IdEmpresa
                    </td>
                    <td class="text-center">
                        @empresa.Nombre
                    </td>
                    <td class="text-center">
                        @empresa.Telefono
                    </td>
                    <td class="text-center">
                        @empresa.Email
                    </td>
                    <td class="text-center">
                        @empresa.DireccionWeb
                    </td>
                    <td class="text-center">

                        @if ( String.IsNullOrEmpty (empresa.Logo))
                        {
                            <img src="~/Imagenes/EmpresaDefault.png" style="width:65px; height:55px" />
                        }
                        else
                        {
                            <img src="data:image/*;base64,@empresa.Logo" style="width:65px; height:55px" />
                        }
                    </td>
                    <th class="text-center">
                        <a class="btn btn-danger bi bi-trash" href="@Url.Action("Delete", "Empresa", new { IdEmpresa = empresa.IdEmpresa })" onclick="return confirm('¿Estas seguro que deseas eliminar este registro?');"></a>
                    </th>
                </tr>
            }
        </table>
    </div>
</div>